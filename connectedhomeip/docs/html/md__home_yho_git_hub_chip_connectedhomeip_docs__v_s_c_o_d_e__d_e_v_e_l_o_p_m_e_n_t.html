<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Connected Home over IP: Visual Studio Code Development</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Connected Home over IP
   &#160;<span id="projectnumber">a83086a0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__home_yho_git_hub_chip_connectedhomeip_docs__v_s_c_o_d_e__d_e_v_e_l_o_p_m_e_n_t.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Visual Studio Code Development </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://code.visualstudio.com/">Visual Studio Code</a> is a great and simple IDE that can be used to build &amp; develop with for CHIP.</p>
<p>CHIP supports the docker / remote container workflow in Visual Studio Code, and has a container environment setup automatically. You can read more about this workflow <a href="https://code.visualstudio.com/docs/remote/containers">here</a>.</p>
<p>Tested on:</p>
<ul>
<li>macOS 10.5</li>
<li>Windows 10 Pro + WSL + Ubuntu 18 LTS</li>
</ul>
<h1><a class="anchor" id="autotoc_md54"></a>
Setup Steps</h1>
<ol type="1">
<li><em>Windows Only</em> Enable the Windows Subsystem for Linux (WSL) following instructions here: <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">https://docs.microsoft.com/en-us/windows/wsl/install-win10</a></li>
</ol>
<ol type="1">
<li><em>Windows Only</em> Install Ubuntu from the Windows App Store here: <a href="https://www.microsoft.com/en-us/p/ubuntu-1804-lts/9n9tngvndl3q">https://www.microsoft.com/en-us/p/ubuntu-1804-lts/9n9tngvndl3q</a></li>
</ol>
<ol type="1">
<li>Install <a href="https://www.docker.com/">Docker</a> for your operating system of choice from here: <a href="https://docs.docker.com/install">https://docs.docker.com/install</a></li>
</ol>
<ol type="1">
<li>Install <a href="https://code.visualstudio.com/">Visual Studio Code</a> for your operating system of choice here: <a href="https://code.visualstudio.com/Download">https://code.visualstudio.com/Download</a></li>
</ol>
<ol type="1">
<li>Install <a href="https://git-scm.com/">Git</a> if you haven't already</li>
</ol>
<ol type="1">
<li><em>Windows Only</em> Enable git to use LF instead of CLRF by default: <code>git config --global core.autocrlf false</code></li>
</ol>
<ol type="1">
<li>Git clone the main CHIP repository here: <a href="https://github.com/project-chip/connectedhomeip">https://github.com/project-chip/connectedhomeip</a></li>
</ol>
<ol type="1">
<li>Launch Visual Studio Code, and open the cloned folder from</li>
</ol>
<ol type="1">
<li>Install the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">Remote - Containers</a> extension for Visual Studio Code, this extension allows you to use docker containers as a development backend.</li>
</ol>
<ol type="1">
<li>Once this is installed, you'll be prompted to reload Visual Studio Code, do so</li>
</ol>
<ol type="1">
<li>At the bottom right of your Visual Studio Code window you should have a new box prompting you to re-open the window as a container. Hit yes.</li>
</ol>
<ol type="1">
<li><em>Windows Only</em> Update your Visual Studio Code settings as documented here: <a href="https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration">https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration</a> to use Bash on Ubuntu (on Windows) eg: <code>"terminal.integrated.shell.windows": "C:\\Windows\\System32\\bash.exe"</code></li>
</ol>
<ol type="1">
<li>Now your local machine is building a docker image that has all the tools necessary to build and test CHIP. This can take some time, but will eventually complete and open up the source tree</li>
</ol>
<h1><a class="anchor" id="autotoc_md55"></a>
Bootstrapping your source tree (one time)</h1>
<ol type="1">
<li>Under the "Terminal" menu (or using another shortcut to the same tool), select "Run Task..."</li>
</ol>
<ol type="1">
<li>Select the "Bootstrap" task</li>
</ol>
<h1><a class="anchor" id="autotoc_md56"></a>
Building the Source Tree</h1>
<ol type="1">
<li>Under the "Terminal" menu select "Run Build Task..."</li>
</ol>
<h1><a class="anchor" id="autotoc_md57"></a>
Tasks</h1>
<p>Located in the <a href="../.vscode/tasks.json">tasks json</a> file you'll find a list of tasks that can be run from the "Run Task..." command. Example tasks are "Clean", "Run Pretty Check"</p>
<p>Developers are encouraged to add tasks to the <a href="../.vscode/tasks.json">tasks json</a> over time to make sure everyone is using the same base configuration and build.</p>
<h2><a class="anchor" id="autotoc_md58"></a>
Current base tasks are listed here</h2>
<ul>
<li>Main Build - Build the default configuration (i.e., Linux OpenSSL)</li>
<li>Run Unit and Functional Tests - Test the default configuration</li>
<li>Build &amp; Test (all) - Build &amp; Test various configurations (Linux variants, Android, EFR32)</li>
<li>Update compilation database - Update the database used by IntelliSense (needed for cross references, completion)</li>
<li>Bootstrap - On a clean tree, pull in the third party dependencies required</li>
<li>Clean Output - Remove build artifacts</li>
<li>Clean Tree - Full (and destructive) git clean of the tree</li>
</ul>
<h1><a class="anchor" id="autotoc_md59"></a>
Launch Tasks</h1>
<p>Located in the <a href="../.vscode/launch.json">launch json</a> file you'll find a list of build &amp; run jobs that can be run from the "Run" tab and start a run or debug session.</p>
<p>Developers are encouraged to add tasks to the <a href="../.vscode/launch.json">launch json</a> over time to make sure everyone is using the same base debuging setup.</p>
<h1><a class="anchor" id="autotoc_md60"></a>
Submitting a Pull Request - Practical Advice</h1>
<h2><a class="anchor" id="autotoc_md61"></a>
Before submitting a PR, make sure these commands run and succeed</h2>
<ul>
<li>Run task: "Build &amp; Test (all)"</li>
</ul>
<h1><a class="anchor" id="autotoc_md62"></a>
Common Issues</h1>
<ul>
<li><a href="https://code.visualstudio.com/docs/remote/containers#_sharing-git-credentials-with-your-container">Missing Git credential</a></li>
<li><a href="https://code.visualstudio.com/docs/remote/containers#_sharing-git-credentials-with-your-container">Missing Git SSH keys</a></li>
<li><a href="https://github.com/microsoft/vscode-remote-release/issues/72">Using GPG signing keys</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md63"></a>
Visual Studio Code FAQ</h1>
<ul>
<li><em>Highly</em> recommend you read through <a href="https://code.visualstudio.com/docs/getstarted/settings">this page</a> to learn how to configure Visual Studio Code to suit your style: <a href="https://code.visualstudio.com/docs/getstarted/settings">https://code.visualstudio.com/docs/getstarted/settings</a></li>
<li>Great primer set of videos <a href="https://code.visualstudio.com/docs/getstarted/introvideos">here</a> <a href="https://code.visualstudio.com/docs/getstarted/introvideos">https://code.visualstudio.com/docs/getstarted/introvideos</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md64"></a>
Visual Studio Code Recommended Settings</h1>
<ul>
<li>Configure the editor to format on save, in your Visual Studio Code Settings: <code>"editor.formatOnSave": true</code></li>
<li>Configure the clang-format extension <code>@ext:xaver.clang-format</code>, it is installed in the docker container. Make sure all languages are enabled </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Feb 1 2021 16:49:16 for Connected Home over IP by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
